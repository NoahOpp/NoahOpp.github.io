<!doctype html>
<html lang="en">
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Books — reviews & notes</title>
<link rel="stylesheet" href="/style.css">
<body>
<!-- header -->
    <header>
    <nav>
        <a href="/">home</a>
        <a href="/books/">books</a>
        <a href="/now.html">now</a>
        <a href="/about.html">about</a>
    </nav>
    <hr>
</header>


<main>
    <h1>Books</h1>
    <p class="meta">Short reviews and notes. Each page starts with a plain‑text front‑matter block.</p>
    <div id="list"></div>
</main>


<!-- footer -->
<footer>
    <hr>
    <p class="small">© <span id="y"></span> Your Name — plain HTML, no tracking.</p>
</footer>


<script>
// naive folder scan: maintain a manual list of review files here
const reviews = [
    'the-myth-of-sisyphus.html',
    'thinking-fast-and-slow.html'
];


// fetch title/metadata from each review's front‑matter comment
Promise.all(reviews.map(f => fetch(f).then(r => r.text()).then(t => ({ f, t }))))
    .then(items => {
        const ul = document.createElement('ul');
        items.forEach(({f,t}) => {
            const authorMatch = meta.match(/author:\s*(.*)/);
            const author = authorMatch ? authorMatch[1] : "";
            const dateMatch = meta.match(/date:\s*(.*)/);
            const date = dateMatch ? dateMatch[1] : "";
            const li = document.createElement('li');
            li.innerHTML = `<a href="${f}">${title}</a> <span class="meta">${author ? '— '+author : ''} ${date? ' ('+date+')':''}</span>`;
            ul.appendChild(li);
        });
        document.getElementById('list').appendChild(ul);
        document.getElementById('y').textContent = new Date().getFullYear();
    });
    </script>
</body>
</html>